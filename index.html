<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Madimi+One&display=swap" rel="stylesheet">

<link href="style.css" rel="stylesheet" type="text/css" media="all" />
</head>
<body>

<ul id="checkboxForm">
    <!-- Checkboxes will be added here -->
</ul>

<script>
// TODO: add Bulletin Board.
const bundles = [
    {
        heading: 'Spring Foraging Bundle',
				bgColor: '#86FFC3',
				fgColor: '#008040',
        items: ['Wild Horseradish', 'Daffodil', 'Leek', 'Dandelion']
    },
    {
        heading: 'Summer Foraging Bundle',
				bgColor: '#FFDBEE',
				fgColor: '#A300FF',
        items: ['Grape', 'Spice Berry', 'Sweet Pea']
    },
    {
        heading: 'Fall Foraging Bundle',
				bgColor: '#FFD998',
				fgColor: '#FF4200',
        items: ['Common Mushroom', 'Wild Plum', 'Hazelnut', 'Blackberry']
    },
    {
        heading: 'Winter Foraging Bundle',
				bgColor: '#DBF6FF',
				fgColor: '#00A0D8',
        items: ['Winter Root', 'Crystal Fruit', 'Snow Yam', 'Crocus']
    },
    {
        heading: 'Construction Bundle',
				bgColor: '#FFD9A8',
				fgColor: '#A27A46',
        items: ['Wood', 'Wood (hardwood)', 'Stone', 'Sap']
    },
    {
        heading: 'Exotic Foraging Bundle',
				bgColor: '#FFF6D3',
				fgColor: '#00A658',
        items: ['Coconut', 'Cactus Fruit', 'Cave Carrot', 'Red Mushroom']
    },
    {
        heading: "Chef's Bundle",
				bgColor: '#FFDE7C',
				fgColor: '#FF7200',
        items: ['Maple Syrup', 'Fiddlehead Fern', 'Truffle', 'Poppy', 'Maki Roll']
    },
    {
        heading: 'Dye Bundle',
				bgColor: '#FAFFA3',
				fgColor: '#C702D8',
        items: ['Red Mushroom', 'Sea Urchin', 'Sunflower', 'Duck Feather']
    },
    {
        heading: 'Field Research Bundle',
				bgColor: '#A3FFEC',
				fgColor: '#007C65',
        items: ['Nautilus Shell', 'Chipped Amphora', 'Arrowhead', 'Rusty Cog']
    },
    {
        heading: "Enchanter's Bundle",
				bgColor: '#CEFFF6',
				fgColor: '#9100FF',
        items: ['Oak Resin', 'Wine', "Rabbit's Foot"]
    },
    {
        heading: 'Fodder Bundle',
				bgColor: '#FFFFFF',
				fgColor: '#000000',
        items: ['Wheat', 'Hay', 'Apple']
    },
    {
        heading: 'Quality Crops Bundle',
				bgColor: '#FFFFFF',
				fgColor: '#000000',
        items: ['Parsnip (Gold Star)', 'Melon (Gold Star)', 'Pumpkin (Gold Star)', 'Corn (Gold Star)']
    },
    {
        heading: 'Animal Bundle',
				bgColor: '#FFFFFF',
				fgColor: '#000000',
        items: ['Large Milk', 'Large Egg (Brown)', 'Large Egg (White)', 'Large Goat Milk', 'Wool']
    },
    {
        heading: 'Artisan Bundle',
				bgColor: '#FFFFFF',
				fgColor: '#000000',
        items: ['Jelly', 'Apple', 'Cheese', 'Truffle Oil', 'Goat Cheese', 'Cloth', 'Honey', 'Apricot', 'Orange', 'Peach', 'Pomegranate', 'Cherry']
    },
    {
        heading: "Adventurer's Bundle",
				bgColor: '#FFFFFF',
				fgColor: '#000000',
        items: ['Void Essence', 'Solar Essence', 'Earth Crystal', 'Frozen Tear']
    }
];

function createCheckboxes(parentNode, checkboxList, bgColor, fgColor) {
		// TODO: use ul/li to create a tree structure.
    checkboxList.forEach(item => {
        if (typeof item === 'string') {
            createCheckbox(parentNode, item, bgColor, fgColor);
        } else if (typeof item === 'object') {
            const heading = item.heading;
            const items = item.items;

            const headingCheckbox = createCheckbox(parentNode, heading, item.bgColor, item.fgColor);
            const subParentNode = document.createElement('ul');
            parentNode.appendChild(subParentNode);
            createCheckboxes(subParentNode, items, item.bgColor, item.fgColor);
        }
    });
}

// creates an li, parent node should be a ul
function createCheckbox(parentNode, labelText, bgColor, fgColor) {
		const wrapper = document.createElement('li');
		wrapper.classList.add('pretty-checkbox');
		wrapper.style.color = fgColor;
		wrapper.style.borderColor = fgColor;
		wrapper.style.backgroundColor = bgColor;

    const checkboxElement = document.createElement('input');
    checkboxElement.type = 'checkbox';
    checkboxElement.id = labelText.toLowerCase().replace(/\s/g, '');
    checkboxElement.name = labelText;

    const label = document.createElement('label');
    label.htmlFor = labelText.toLowerCase().replace(/\s/g, '');
    label.appendChild(document.createTextNode(labelText));

		wrapper.appendChild(checkboxElement);
		wrapper.appendChild(label);
    parentNode.appendChild(wrapper);
}

window.onload = function() {
    createCheckboxes(document.getElementById('checkboxForm'), bundles);
};

</script>

</body>
</html>
